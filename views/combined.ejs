<!-- EJS template used as a common layout for views -->

<!DOCTYPE html>
<html>

<head>
    <title>To Do List</title>
    <link rel="stylesheet" href="/public/css/styles.css">
</head>

<body>

    <% if (listTitle) { %>
        <div class="box" id="heading">
            <h1> <%= listTitle %> </h1>
        </div>
    <% } %>

    <div class="box">
        <% if (newListItems) { %>
            <% newListItems.forEach(function(item){ %>
                <form action="/delete" method="post">
                    <div class="item">
                        <input type="checkbox" name="checkbox" value="<%=item._id%>" onChange="this.form.submit()">
                        <p><%=item.name%></p>
                    </div>
                    <input type="hidden" name="listName" value="<%= listTitle %>"></input>
                </form>
            <% }) %>
        <% } %>

        <form class="item" action="/" method="post">
            <input type="text" name="newItem" placeholder="New Item" autocomplete="off" autofocus="true">
            <button type="submit" name="list" value="<%= listTitle %>">+</button>
        </form>
    </div>

</body>

</html>
